import{b as W,d as j,g as F,i as z,l as B,m as D,n as L,q as A}from"./chunk-TKRMQVQD.js";import{$ as T,A as g,D as l,E as O,F as w,G as o,H as a,I as f,J as m,K as x,L as c,M as u,N as P,O as C,Q as v,R as b,S as h,_ as V,aa as q,ca as E,e as I,fa as N,i as M,l as k,n as p,o as _,t as s,v as Q,w as S}from"./chunk-YG25EE7E.js";var R=[{text:"What's your first name ?",type:"text",placeholder:"Enter your first name"},{text:"What's your last name ?",type:"text",placeholder:"Enter your last name"},{text:"Where are you from ?",type:"select",placeholder:"Click to select a country",options:[]},{text:"Do you agree to receive notifications ?",type:"yes_no"}];var y=class t{constructor(i){this.http=i}apiUrl="https://restcountries.com/v3.1/all?fields=name";getCountries(){return this.http.get(this.apiUrl).pipe(I(i=>i.map(e=>e.name.common).sort((e,r)=>e.localeCompare(r))))}static \u0275fac=function(e){return new(e||t)(k(E))};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})};function G(t,i){if(t&1){let e=m();o(0,"div",4)(1,"h2"),u(2,"Welcome to Mind Craft !"),a(),f(3,"br"),o(4,"h2"),u(5,"Let's get to know you better !"),a(),o(6,"button",5),x("click",function(){p(e);let n=c();return _(n.startQuestionnaire())}),u(7,"Start"),a()()}}function J(t,i){if(t&1){let e=m();o(0,"input",12),h("ngModelChange",function(n){p(e);let d=c(2);return b(d.answers[d.currentQuestionIndex],n)||(d.answers[d.currentQuestionIndex]=n),_(n)}),a()}if(t&2){let e=c(2);l("placeholder",e.questions[e.currentQuestionIndex].placeholder),v("ngModel",e.answers[e.currentQuestionIndex])}}function K(t,i){if(t&1){let e=m();o(0,"div",13)(1,"button",14),x("click",function(){p(e);let n=c(2);return _(n.answers[n.currentQuestionIndex]="Yes")}),u(2," Yes "),a(),o(3,"button",15),x("click",function(){p(e);let n=c(2);return _(n.answers[n.currentQuestionIndex]="No")}),u(4," No "),a()()}if(t&2){let e=c(2);s(),w("selected",e.answers[e.currentQuestionIndex]==="Yes"),s(2),w("selected",e.answers[e.currentQuestionIndex]==="No")}}function X(t,i){if(t&1){let e=m();o(0,"div")(1,"input",16),h("ngModelChange",function(n){p(e);let d=c(2);return b(d.answers[d.currentQuestionIndex],n)||(d.answers[d.currentQuestionIndex]=n),_(n)}),a()()}if(t&2){let e=c(2);s(),l("min",e.questions[e.currentQuestionIndex].min)("max",e.questions[e.currentQuestionIndex].max),v("ngModel",e.answers[e.currentQuestionIndex])}}function Z(t,i){if(t&1&&(o(0,"option",20),u(1),a()),t&2){let e=i.$implicit;l("value",e),s(),C(" ",e," ")}}function $(t,i){if(t&1){let e=m();o(0,"div")(1,"select",17),h("ngModelChange",function(n){p(e);let d=c(2);return b(d.answers[d.currentQuestionIndex],n)||(d.answers[d.currentQuestionIndex]=n),_(n)}),o(2,"option",18),u(3),a(),g(4,Z,2,2,"option",19),a()()}if(t&2){let e=c(2);s(),v("ngModel",e.answers[e.currentQuestionIndex]),s(2),C(" ",e.questions[e.currentQuestionIndex].placeholder," "),s(),l("ngForOf",e.questions[e.currentQuestionIndex].options)}}function ee(t,i){if(t&1&&(o(0,"div",21),u(1),a()),t&2){let e=c(2);s(),C(" ",e.errorMessage," ")}}function te(t,i){if(t&1){let e=m();o(0,"button",5),x("click",function(){p(e);let n=c(2);return _(n.previousQuestion())}),u(1,"Back"),a()}}function ne(t,i){if(t&1){let e=m();o(0,"div",4)(1,"h2"),u(2),a(),g(3,J,1,2,"input",6)(4,K,5,4,"div",7)(5,X,2,3,"div",8)(6,$,5,3,"div",8)(7,ee,2,1,"div",9),o(8,"div",10),g(9,te,2,0,"button",11),o(10,"button",5),x("click",function(){p(e);let n=c();return _(n.nextQuestion())}),u(11,"Next"),a()()()}if(t&2){let e=c();s(2),P(e.questions[e.currentQuestionIndex].text),s(),l("ngIf",e.questions[e.currentQuestionIndex].type=="text"),s(),l("ngIf",e.questions[e.currentQuestionIndex].type=="yes_no"),s(),l("ngIf",e.questions[e.currentQuestionIndex].type=="slider"),s(),l("ngIf",e.questions[e.currentQuestionIndex].type=="select"),s(),l("ngIf",e.errorMessage),s(2),l("ngIf",e.currentQuestionIndex!=0)}}function ie(t,i){if(t&1){let e=m();o(0,"button",5),x("click",function(){p(e);let n=c(2);return _(n.previousQuestion())}),u(1,"Back"),a()}}function oe(t,i){if(t&1){let e=m();o(0,"div",4)(1,"h2"),u(2,"Thanks for your answers !"),a(),f(3,"br"),o(4,"h2"),u(5,"You can now enter the application !"),a(),o(6,"div",10),g(7,ie,2,0,"button",11),o(8,"button",5),x("click",function(){p(e);let n=c();return _(n.save())}),u(9,"Save and continue"),a()()()}if(t&2){let e=c();s(7),l("ngIf",e.currentQuestionIndex!=0)}}var U=class t{constructor(i,e){this.countryService=i;this.router=e}currentQuestionIndex=-1;questions=R;answers=[];errorMessage="";ngOnInit(){this.countryService.getCountries().subscribe(i=>{let e=this.questions.find(r=>r.text.includes("Where are you from ?"));e&&(e.options=i)})}startQuestionnaire(){this.currentQuestionIndex=0,this.answers[this.currentQuestionIndex]===void 0&&(this.answers[this.currentQuestionIndex]="")}previousQuestion(){this.errorMessage="",this.currentQuestionIndex>0&&this.currentQuestionIndex--}nextQuestion(){let i=this.answers[this.currentQuestionIndex];if(i==""||i==null||i==null){this.errorMessage="Please provide an answer before proceeding.";return}this.errorMessage="",this.currentQuestionIndex<this.questions.length&&(this.currentQuestionIndex++,this.answers[this.currentQuestionIndex]===void 0&&(this.answers[this.currentQuestionIndex]=""))}getProgress(){return this.currentQuestionIndex<=0?0:this.currentQuestionIndex/this.questions.length*100}save(){this.router.navigate(["/profile/edit_profile"])}static \u0275fac=function(e){return new(e||t)(Q(y),Q(N))};static \u0275cmp=S({type:t,selectors:[["app-questionnaire"]],decls:6,vars:5,consts:[[1,"container"],[1,"progress-bar"],[1,"progress"],["class","question-box",4,"ngIf"],[1,"question-box"],[3,"click"],["type","text",3,"placeholder","ngModel","ngModelChange",4,"ngIf"],["class","yes-no-group",4,"ngIf"],[4,"ngIf"],["class","error-message",4,"ngIf"],[1,"button-group"],[3,"click",4,"ngIf"],["type","text",3,"ngModelChange","placeholder","ngModel"],[1,"yes-no-group"],[1,"yes_button",3,"click"],[1,"no_button",3,"click"],["type","range",3,"ngModelChange","min","max","ngModel"],[3,"ngModelChange","ngModel"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"error-message"]],template:function(e,r){e&1&&(o(0,"div",0)(1,"div",1),f(2,"div",2),a(),g(3,G,8,0,"div",3)(4,ne,12,7,"div",3)(5,oe,10,1,"div",3),a()),e&2&&(s(2),O("width",r.getProgress(),"%"),s(),l("ngIf",r.currentQuestionIndex==-1),s(),l("ngIf",r.currentQuestionIndex>=0&&r.currentQuestionIndex<r.questions.length),s(),l("ngIf",r.currentQuestionIndex==r.questions.length))},dependencies:[q,V,T,A,D,L,W,z,B,j,F],styles:["[_nghost-%COMP%]{display:block;height:100vh;background:linear-gradient(180deg,#a8c5e2,#d7c7e9);color:#2f2e2e;font-family:Lato,sans-serif;font-weight:400;margin:0;padding:0}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%}.progress-bar[_ngcontent-%COMP%]{width:50%;height:10px;background-color:#f3faff;border-radius:10px;overflow:hidden;margin:30px auto 50px;border:1px solid black}.progress[_ngcontent-%COMP%]{height:100%;background-color:#85f1ff;width:0%;transition:width .3s ease}.question-box[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:flex-start;align-items:center;text-align:center;padding:20px;margin-top:175px}.question-box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:30px;font-size:28px}input[type=text][_ngcontent-%COMP%]{padding:12px;font-size:16px;border-radius:5px;width:300px;margin-bottom:25px;background-color:#f3faff;border:1px solid black}input[type=range][_ngcontent-%COMP%]{width:300px;margin-bottom:25px}select[_ngcontent-%COMP%]{width:320px;padding:10px;margin-bottom:25px;font-size:16px;border-radius:5px;border:1px solid black;background-color:#f3faff;cursor:pointer}button[_ngcontent-%COMP%]{padding:10px 25px;font-size:16px;background-color:#85f1ff;border:none;border-radius:5px;color:#1a1a1a;cursor:pointer;transition:background-color .2s,transform .2s ease;border:1px solid black;margin:50px 10px 10px}button[_ngcontent-%COMP%]:hover{background-color:#62d5e5;transform:scale(1.05)}.yes_button[_ngcontent-%COMP%]{background-color:#a8e6cf;color:#000;margin-top:10px}.yes_button[_ngcontent-%COMP%]:hover{background-color:#6ed4ae}.no_button[_ngcontent-%COMP%]{background-color:#ff8b94;color:#000;margin-top:10px}.no_button[_ngcontent-%COMP%]:hover{background-color:#f75764}.button-group[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:50px}.yes-no-group[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:30px;margin-bottom:20px}.yes-no-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:80px;transition:background-color .2s,transform .2s ease}.yes-no-group[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]{transform:scale(1.05)}.yes-no-group[_ngcontent-%COMP%]   button.selected.yes_button[_ngcontent-%COMP%]{background-color:#6ed4ae}.yes-no-group[_ngcontent-%COMP%]   button.selected.no_button[_ngcontent-%COMP%]{background-color:#f75764}.error-message[_ngcontent-%COMP%]{color:red;font-size:14px;margin-top:10px}"]})};export{U as QuestionnaireComponent};
