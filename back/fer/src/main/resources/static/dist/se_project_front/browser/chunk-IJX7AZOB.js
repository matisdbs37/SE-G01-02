import{a as k}from"./chunk-QKDHF5WC.js";import{a as _,b as M,c,d as P,e as O,h as b,j as v,k as w,p as y,r as S}from"./chunk-TKRMQVQD.js";import{$ as h,A as g,D as p,G as n,H as o,I as r,K as s,M as t,O as u,aa as x,fa as C,t as m,v as d,w as f}from"./chunk-YG25EE7E.js";function I(a,l){a&1&&(n(0,"div",24),t(1," Please enter a valid email. "),o())}function L(a,l){a&1&&(n(0,"div",24),t(1," Minimum 6 characters. "),o())}var E=class a{constructor(l,i,e){this.fb=l;this.auth=i;this.router=e;this.form=this.fb.group({email:["",[c.required,c.email]],password:["",[c.required,c.minLength(6)]],remember:[!1]})}loading=!1;form;get email(){return this.form.get("email")}get password(){return this.form.get("password")}submit(){if(this.form.invalid){this.form.markAllAsTouched();return}let{email:l,password:i}=this.form.value;this.loading=!0,this.auth.login(l,i).subscribe({next:e=>{this.router.navigateByUrl("/profile/edit_profile"),localStorage.setItem("token",e.token),localStorage.setItem("email",e.email),localStorage.setItem("firstName",e.firstName),localStorage.setItem("lastName",e.lastName)},error:e=>{this.loading=!1,alert(e.message??"Login failed")},complete:()=>this.loading=!1})}oauth(){this.auth.oauth()}static \u0275fac=function(i){return new(i||a)(d(y),d(k),d(C))};static \u0275cmp=f({type:a,selectors:[["mc-login"]],decls:48,vars:5,consts:[[1,"auth-shell"],[1,"art-panel"],["src","assets/mindcraft-head.png","alt","Mind Craft logo",1,"logo"],[1,"quote"],[1,"form-panel"],[1,"title"],[1,"subtitle"],[1,"form",3,"ngSubmit","formGroup"],["type","email","formControlName","email","placeholder","Email address"],["class","error",4,"ngIf"],["type","password","formControlName","password","placeholder","Password"],[1,"row","between"],[1,"remember","small-remember"],["type","checkbox","formControlName","remember"],["href","#",1,"link"],[1,"btn","primary",3,"disabled"],[1,"muted","center","small"],["href","/auth/register",1,"link"],[1,"divider"],[1,"oauth"],["type","button",1,"btn","oauth-btn",3,"click"],["src","/assets/icons/google.png","alt",""],[1,"tos"],["href","#"],[1,"error"]],template:function(i,e){i&1&&(n(0,"div",0)(1,"div",1),r(2,"img",2),n(3,"p",3),t(4,"Take a deep breath."),r(5,"br"),t(6,"You\u2019re one step closer to calm."),o()(),n(7,"div",4)(8,"h1",5),t(9,"Mind Craft"),o(),n(10,"p",6),t(11,"Mindfulness & Mental Health Platform"),o(),n(12,"form",7),s("ngSubmit",function(){return e.submit()}),n(13,"label"),t(14,"Email address"),o(),r(15,"input",8),g(16,I,2,0,"div",9),n(17,"label"),t(18,"Password"),o(),r(19,"input",10),g(20,L,2,0,"div",9),n(21,"div",11)(22,"label",12),r(23,"input",13),t(24," Remember me "),o(),n(25,"a",14),t(26,"Forgot your password"),o()(),n(27,"button",15),t(28),o(),n(29,"div",16),t(30," New here? "),n(31,"a",17),t(32,"Create an account"),o()(),n(33,"div",18)(34,"span"),t(35,"or continue with"),o()(),n(36,"div",19)(37,"button",20),s("click",function(){return e.oauth()}),r(38,"img",21),t(39," Continue with Google "),o()(),n(40,"p",22),t(41," By continuing, you agree to our "),n(42,"a",23),t(43,"Terms of Service"),o(),t(44," and "),n(45,"a",23),t(46,"Privacy Policy"),o(),t(47,". "),o()()()()),i&2&&(m(12),p("formGroup",e.form),m(4),p("ngIf",(e.email==null?null:e.email.touched)&&(e.email==null?null:e.email.invalid)),m(4),p("ngIf",(e.password==null?null:e.password.touched)&&(e.password==null?null:e.password.invalid)),m(7),p("disabled",e.loading),m(),u(" ",e.loading?"Logging in\u2026":"Log in"," "))},dependencies:[x,h,S,b,M,_,P,O,v,w],styles:['.auth-shell[_ngcontent-%COMP%]{min-height:100vh;display:grid;grid-template-columns:1fr 1fr}@media (max-width: 960px){.auth-shell[_ngcontent-%COMP%]{grid-template-columns:1fr}}.art-panel[_ngcontent-%COMP%]{background:linear-gradient(180deg,#a8c5e2,#d7c7e9);height:100%;padding:48px;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center}.art-panel[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:200px;height:auto}.art-panel[_ngcontent-%COMP%]   .quote[_ngcontent-%COMP%]{color:#2a3441;font-size:20px;max-width:420px}@media (max-width: 960px){.art-panel[_ngcontent-%COMP%]{padding:32px}.art-panel[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:90px}}.form-panel[_ngcontent-%COMP%]{padding:64px 80px;display:flex;flex-direction:column;justify-content:center;align-items:center}@media (max-width: 960px){.form-panel[_ngcontent-%COMP%]{padding:40px 24px}}.form-panel[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font:700 40px Poppins,system-ui;color:#333}@media (max-width: 960px){.form-panel[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:32px}}.form-panel[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font:400 16px Lato,system-ui;color:#666;margin-bottom:32px}.form-panel[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{width:100%;max-width:480px}.form-panel[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{pointer-events:auto}.form-panel[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:12px 0 6px;font-weight:600;font-size:14px;color:#666}.form-panel[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:44px;padding:0 14px;border:1px solid #e0e0e0;border-radius:8px;font-size:16px;color:#333;background:#fff}.form-panel[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#65c3a3;box-shadow:0 0 0 3px #65c3a333}.form-panel[_ngcontent-%COMP%]   .small-remember[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:16px;height:16px;cursor:pointer}.form-panel[_ngcontent-%COMP%]   .row.between[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:10px 0 16px}.form-panel[_ngcontent-%COMP%]   .remember[_ngcontent-%COMP%]{display:flex;gap:6px;align-items:center;font-size:13px}.form-panel[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{color:#65c3a3;font-size:14px;text-decoration:none}.form-panel[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:hover{text-decoration:underline}.form-panel[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;height:44px;border-radius:10px;border:none;font-weight:600;cursor:pointer}.form-panel[_ngcontent-%COMP%]   .btn.primary[_ngcontent-%COMP%]{background:#65c3a3;color:#fff;margin:8px 0 12px}.form-panel[_ngcontent-%COMP%]   .btn.primary[_ngcontent-%COMP%]:hover{background:#56b092}.form-panel[_ngcontent-%COMP%]   .muted[_ngcontent-%COMP%]{color:#666}.form-panel[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{margin:18px 0;color:#666;display:flex;align-items:center;gap:12px}.form-panel[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]:before, .form-panel[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]:after{content:"";height:1px;background:#e0e0e0;flex:1}.form-panel[_ngcontent-%COMP%]   .oauth[_ngcontent-%COMP%]{display:grid;gap:10px}.form-panel[_ngcontent-%COMP%]   .oauth-btn[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:10px;background:#fff;border:1px solid #e0e0e0;border-radius:8px;height:44px}.form-panel[_ngcontent-%COMP%]   .oauth-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:18px;height:18px;object-fit:contain}.form-panel[_ngcontent-%COMP%]   .tos[_ngcontent-%COMP%]{font-size:12px;color:#666;text-align:center;margin-top:12px}.form-panel[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:#d9534f;font-size:12px;margin-top:4px}@media (max-width: 959px){.auth-shell[_ngcontent-%COMP%]{background:linear-gradient(180deg,#a8c5e2,#d7c7e9);min-height:100vh}.art-panel[_ngcontent-%COMP%]{background:transparent;padding:32px 20px}.art-panel[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:70px}.art-panel[_ngcontent-%COMP%]   .quote[_ngcontent-%COMP%]{max-width:280px;margin:0 auto;font-size:15px}.form-panel[_ngcontent-%COMP%]{padding:24px 16px!important;width:100%;box-sizing:border-box}.form[_ngcontent-%COMP%]{max-width:100%!important;width:100%}input[_ngcontent-%COMP%]{width:100%;box-sizing:border-box}.oauth-btn[_ngcontent-%COMP%]{width:100%}}']})};export{E as LoginComponent};
