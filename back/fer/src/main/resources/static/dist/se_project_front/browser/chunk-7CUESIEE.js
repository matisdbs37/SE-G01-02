import{a as k}from"./chunk-QKDHF5WC.js";import{b,c as p,d as P,e as M,h as v,j as O,k as w,p as S,r as y}from"./chunk-TKRMQVQD.js";import{$ as C,A as u,D as s,G as n,H as o,I as a,K as d,M as t,O as h,aa as _,fa as x,t as m,v as g,w as f}from"./chunk-YG25EE7E.js";function N(l,i){l&1&&(n(0,"div",23),t(1," Please enter a valid email. "),o())}function R(l,i){l&1&&(n(0,"div",23),t(1," Minimum 6 characters. "),o())}function I(l,i){l&1&&(n(0,"div",23),t(1," Passwords don\u2019t match. "),o())}var E=class l{constructor(i,r,e){this.fb=i;this.auth=r;this.router=e;this.form=this.fb.group({email:["",[p.required,p.email]],password:["",[p.required,p.minLength(6)]],confirm:["",[p.required]]},{validators:c=>this.samePassword(c)})}loading=!1;form;get email(){return this.form.get("email")}get password(){return this.form.get("password")}get confirm(){return this.form.get("confirm")}samePassword(i){let r=i.get("password")?.value,e=i.get("confirm")?.value;return r===e?null:{mismatch:!0}}submit(){if(this.form.invalid){this.form.markAllAsTouched();return}let{email:i,password:r}=this.form.value;this.loading=!0,this.auth.register(i,r).subscribe({next:e=>{this.router.navigateByUrl("/profile/edit_profile"),localStorage.setItem("token",e.token),localStorage.setItem("email",e.email),localStorage.setItem("firstName",e.firstName),localStorage.setItem("lastName",e.lastName)},error:e=>{this.loading=!1,alert(e.message??"Register failed")},complete:()=>this.loading=!1})}oauth(i){}static \u0275fac=function(r){return new(r||l)(g(S),g(k),g(x))};static \u0275cmp=f({type:l,selectors:[["mc-register"]],decls:52,vars:6,consts:[[1,"auth-shell"],[1,"form-panel"],[1,"title"],[1,"subtitle"],[1,"form",3,"ngSubmit","formGroup"],["type","email","formControlName","email","placeholder","Email address"],["class","error",4,"ngIf"],["type","password","formControlName","password","placeholder","Password"],["type","password","formControlName","confirm","placeholder","Confirm password"],[1,"btn","primary",3,"disabled"],[1,"muted","center","small"],["href","/auth/login",1,"link"],[1,"divider"],[1,"oauth"],["type","button",1,"btn","oauth-btn",3,"click"],["src","assets/icons/google.png","alt",""],["src","assets/icons/apple.png","alt",""],["src","assets/icons/microsoft.png","alt",""],[1,"tos"],["href","#"],[1,"art-panel"],["src","assets/mindcraft-head.png","alt","Mind Craft logo",1,"logo"],[1,"quote"],[1,"error"]],template:function(r,e){r&1&&(n(0,"div",0)(1,"div",1)(2,"h1",2),t(3,"Mind Craft"),o(),n(4,"p",3),t(5,"Mindfulness & Mental Health Platform"),o(),n(6,"form",4),d("ngSubmit",function(){return e.submit()}),n(7,"label"),t(8,"Email address"),o(),a(9,"input",5),u(10,N,2,0,"div",6),n(11,"label"),t(12,"Password"),o(),a(13,"input",7),u(14,R,2,0,"div",6),n(15,"label"),t(16,"Confirm password"),o(),a(17,"input",8),u(18,I,2,0,"div",6),n(19,"button",9),t(20),o(),n(21,"div",10),t(22," Already have an account? "),n(23,"a",11),t(24,"Log in"),o()(),n(25,"div",12)(26,"span"),t(27,"or continue with"),o()(),n(28,"div",13)(29,"button",14),d("click",function(){return e.oauth("google")}),a(30,"img",15),t(31," Continue with Google "),o(),n(32,"button",14),d("click",function(){return e.oauth("apple")}),a(33,"img",16),t(34," Continue with Apple "),o(),n(35,"button",14),d("click",function(){return e.oauth("microsoft")}),a(36,"img",17),t(37," Continue with Microsoft "),o()(),n(38,"p",18),t(39," By continuing, you agree to our "),n(40,"a",19),t(41,"Terms of Service"),o(),t(42," and "),n(43,"a",19),t(44,"Privacy Policy"),o(),t(45,". "),o()()(),n(46,"div",20),a(47,"img",21),n(48,"p",22),t(49,"Take a deep breath."),a(50,"br"),t(51,"You\u2019re one step closer to calm."),o()()()),r&2&&(m(6),s("formGroup",e.form),m(4),s("ngIf",(e.email==null?null:e.email.touched)&&(e.email==null?null:e.email.invalid)),m(4),s("ngIf",(e.password==null?null:e.password.touched)&&(e.password==null?null:e.password.invalid)),m(4),s("ngIf",(e.confirm==null?null:e.confirm.touched)&&(e.form.errors==null?null:e.form.errors.mismatch)),m(),s("disabled",e.loading),m(),h(" ",e.loading?"Creating\u2026":"Sign up"," "))},dependencies:[_,C,y,v,b,P,M,O,w],styles:['.auth-shell[_ngcontent-%COMP%]{min-height:100vh;display:grid;grid-template-columns:1fr 1fr}@media (max-width: 960px){.auth-shell[_ngcontent-%COMP%]{grid-template-columns:1fr}}.art-panel[_ngcontent-%COMP%]{background:linear-gradient(180deg,#a8c5e2,#d7c7e9);padding:48px;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center}.art-panel[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:200px;height:auto}.art-panel[_ngcontent-%COMP%]   .quote[_ngcontent-%COMP%]{color:#2a3441;font-size:20px;max-width:420px;line-height:1.4}.form-panel[_ngcontent-%COMP%]{background:#fff;padding:64px 80px;display:flex;flex-direction:column;align-items:center;justify-content:center}.form-panel[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font:700 40px Poppins,system-ui;color:#333}.form-panel[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font:400 16px Lato,system-ui;color:#666;margin-bottom:32px}.form-panel[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{width:100%;max-width:480px}.form-panel[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;font-size:14px;margin:12px 0 6px;color:#666}.form-panel[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:44px;padding:0 14px;border:1px solid #e0e0e0;border-radius:8px;background:#fff;font-size:16px;color:#333;box-sizing:border-box}.form-panel[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#65c3a3;box-shadow:0 0 0 3px #65c3a333;outline:none}.form-panel[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;height:44px;border-radius:10px;border:none;cursor:pointer;font-weight:600}.form-panel[_ngcontent-%COMP%]   .btn.primary[_ngcontent-%COMP%]{background:#65c3a3;color:#fff;margin:12px 0}.form-panel[_ngcontent-%COMP%]   .btn.primary[_ngcontent-%COMP%]:hover{background:#56b092}.form-panel[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{color:#65c3a3;text-decoration:none}.form-panel[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:hover{text-decoration:underline}.form-panel[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin:18px 0;color:#666}.form-panel[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]:before, .form-panel[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]:after{content:"";height:1px;background:#e0e0e0;flex:1}.form-panel[_ngcontent-%COMP%]   .oauth[_ngcontent-%COMP%]{display:grid;gap:10px}.form-panel[_ngcontent-%COMP%]   .oauth-btn[_ngcontent-%COMP%]{height:44px;border:1px solid #e0e0e0;border-radius:8px;background:#fff;display:flex;justify-content:center;align-items:center;gap:10px}.form-panel[_ngcontent-%COMP%]   .oauth-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:18px;height:18px;object-fit:contain}.form-panel[_ngcontent-%COMP%]   .tos[_ngcontent-%COMP%]{margin-top:12px;font-size:12px;color:#666;text-align:center}.form-panel[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:#d9534f;font-size:12px;margin-top:4px}@media (max-width: 959px){.auth-shell[_ngcontent-%COMP%]{background:linear-gradient(180deg,#a8c5e2,#d7c7e9);min-height:100vh;width:100%;overflow-x:hidden}.art-panel[_ngcontent-%COMP%]{order:1;background:transparent;padding:32px 20px}.art-panel[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:70px;margin-bottom:16px}.art-panel[_ngcontent-%COMP%]   .quote[_ngcontent-%COMP%]{max-width:280px;font-size:15px;line-height:1.4}.form-panel[_ngcontent-%COMP%]{order:2;padding:24px 16px!important;width:100%;background:transparent;box-sizing:border-box!important}.form[_ngcontent-%COMP%]{max-width:100%!important;width:100%}input[_ngcontent-%COMP%], .oauth-btn[_ngcontent-%COMP%]{width:100%;box-sizing:border-box}}']})};export{E as RegisterComponent};
